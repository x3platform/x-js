// -*- ecoding=utf-8 -*-
// Name		:@x3platform/x-js 
// Version	:0.0.15 
// Author	:ruanyu@live.com 
// Date		:2020-02-29

!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.x=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("./lib/base"),e=a("./lib/event"),f=a("./lib/collections/Queue"),g=a("./lib/collections/Stack"),h=a("./lib/color"),i=a("./lib/cookies"),j=a("./lib/encoding"),k=a("./lib/regexp"),l=a("./lib/string"),m=a("./lib/date"),n=a("./lib/net"),o=d.extend({},d,{event:e,queue:f,stack:g,color:h,cookies:i,encoding:j,regexp:k,string:l,date:m,on:e.add,net:n});d.extend(o,{on:e.add,off:e.remove,xhr:n.xhr}),b.exports=o},{"./lib/base":2,"./lib/collections/Queue":9,"./lib/collections/Stack":10,"./lib/color":11,"./lib/cookies":12,"./lib/date":13,"./lib/encoding":14,"./lib/event":15,"./lib/net":16,"./lib/regexp":17,"./lib/string":18}],2:[function(a,b,c){"use strict";var d=a("./base/lang"),e=a("./base/kernel"),f=a("./base/declare"),g=a("./collections/Hashtable"),h=a("./collections/Queue"),i=a("./collections/Stack"),j=d.extend({},d,e,{declare:f,query:function(a){return 0==d.type(a).indexOf("html")?a:"string"==d.type(a)?document.querySelector(a):void 0},queryAll:function(a){if(0==d.type(a).indexOf("html")){var b=[];return b.push(a),b}if("string"==d.type(a))return document.querySelectorAll(a)},collections:{}}),k={Hashtable:g,Queue:h,Stack:i};d.extend(j.collections,k),b.exports=j},{"./base/declare":5,"./base/kernel":6,"./base/lang":7,"./collections/Hashtable":8,"./collections/Queue":9,"./collections/Stack":10}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(){this.innerArray=[]}return a.prototype.append=function(a){this.innerArray[this.innerArray.length]=a},a.prototype.toString=function(){return this.innerArray.join("")},a}();c.StringBuilder=d},{}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={},e="timer$",f=function(){function a(a,b){this.timerId=-1,this.name=e+Math.ceil(9e8*Math.random()+1e8),this.interval=1e3*a,this.callback=b}return a.prototype.run=function(){this.callback(this)},a.prototype.start=function(){var a=d[this.name]=this;this.timerId=setInterval(function(){d[a.name].run()},this.interval)},a.prototype.stop=function(){clearInterval(this.timerId)},a}();c.Timer=f},{}],5:[function(a,b,c){"use strict";function d(a,b){return function(){var c,d=arguments,e=d,f=d[0];b&&(f&&(c=f.preamble)&&(e=c.apply(this,e)||e),(c=this.preamble)&&c.apply(this,e)),a&&a.apply(this,d),(c=this.postscript)&&c.apply(this,d)}}var e=a("./lang"),f=a("./kernel"),g=Object.prototype,h=(g.toString,function(a,b,c){var a,b,c;1==arguments.length?(a=null,b=null,c=arguments[0]||{}):2==arguments.length?e.isString(arguments[0])?(a=arguments[0]||{},b=null,c=arguments[1]||{}):(a=null,b=arguments[0]||{},c=arguments[1]||{}):3==arguments.length&&(a=arguments[0],b=arguments[1]||{},c=arguments[2]||{});var h,i,j;if(j=function(){},h={},e.isArray(b))for(var k=0;k<b.length;k++)e.extend(h,b[k]);else null!=b&&e.extend(h,b);for(var l in c)j.prototype[l]=c[l],e.extend(h,c);if(i=c.constructor,i!==g.constructor&&(i.nom="constructor",h.constructor=i),j=d(c.constructor,i),j._meta={hidden:c,ctor:c.constructor},j.superclass=b&&b.prototype,j.prototype=h,h.constructor=j,a){j.prototype.declaredClass=a;var m=a.split("."),n=m.pop();(0==m.length?f.global():f.register(m.join(".")))[n]=j}return j});b.exports=h},{"./kernel":6,"./lang":7}],6:[function(require,module,exports){(function(global){"use strict";var lang=require("./lang"),StringBuilder_1=require("./StringBuilder"),Timer_1=require("./Timer"),locales={"en-us":"en-us","zh-cn":"zh-cn","zh-tw":"zh-tw"},defaultLocaleName="zh-cn",self={global:function(){return"undefined"!=typeof window?window:global},isBrower:function(){return"window"===lang.type(self.global())},isNode:function(){return"global"===lang.type(self.global())},error:function(a){throw new Error(a)},scriptFragment:"<script[^>]*>([\\S\\s]*?)<\/script>",jsonFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,quickExpr:/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,isSimple:/^.[^:#\[\.,]*$/,noop:function(){},register:function(a){for(var b=a.split("."),c=self.global(),d=0;d<b.length;d++)lang.isUndefined(c[b[d]])&&(c[b[d]]={}),c=c[b[d]];return c},invoke:function(a,b){var c=Array.prototype.slice.call(arguments).slice(2);return b.apply(a,c)},call:function(anything){if(!lang.isUndefined(anything))try{if(lang.isFunction(anything)){var args=Array.prototype.slice.call(arguments).slice(1);return anything.apply(this,args)}if("string"===lang.type(anything)&&""!==anything)return eval(anything)}catch(a){console.error(a)}},guid:{create:function(a,b){void 0===a&&(a="-");var c="";a=a.toLowerCase();for(var d=0;d<8;d++)c+=(65536*(1+Math.random())|0).toString(16).substring(1),d>0&&d<5&&"-"===a&&(c+="-");return c=b?c.toUpperCase():c.toLowerCase()}},randomText:{create:function(a,b){void 0===a&&(a=8),void 0===b&&(b="0123456789abcdefghijklmnopqrstuvwyzx");for(var c="",d=0;d<a;d++)c+=b.charAt(Math.ceil(1e8*Math.random())%b.length);return c}},nonce:function(a){return void 0===a&&(a=6),Number(self.randomText.create(1,"123456789")+self.randomText.create(a-1,"0123456789"))},serialize:function(a){var b=[],c=a.length;if(lang.isArray(a))for(var d=0;d<c;d++)b.push(a[d].name+"="+encodeURIComponent(a[d].value));else for(var e in a)b.push(e+"="+encodeURIComponent(a[e]));return b.join("&")},each:function(a,b){var c,d=0,e=a.length;if(lang.isArray(a)||"nodelist"==lang.type(a))for(var f=a[0];d<e&&0!=b.call(f,d,f);f=a[++d]);else for(c in a)if(!1===b.call(a[c],c,a[c]))break;return a},toXML:function(a,b){if(void 0===b&&(b=!1),"xmldocument"===lang.type(a))return a;if(!lang.isUndefined(a)&&""!==a){var c,d=self.global();try{if(d.DOMParser){var e=new DOMParser;c=e.parseFromString(a,"text/xml")}else d.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a))}catch(d){c=void 0,b||self.debug.error('{"method":"x.toXML(text)", "arguments":{"text":"'+a+'"}')}return c&&!c.getElementsByTagName("parsererror").length||(c=void 0,b||self.debug.error('{"method":"x.toXML(text)", "arguments":{"text":"'+a+'"}')),c}},toJSON:function(a){if("object"===lang.type(a))return a;if(!lang.isUndefined(a)&&""!==a){var b=arguments[1];try{return JSON?JSON.parse(a):Function("return "+a)()}catch(c){try{return Function("return "+a)()}catch(c){return void(b||self.debug.error('{"method":"x.toJSON(text)", "arguments":{"text":"'+a+'"}'))}}}},toSafeJSON:function(a){for(var b="",c=0;c<a.length;c++){var d=a.substr(c,1);'"'===d||"'"===d||"\\"===d||"/"===d?(b+="\\",b+=d):b+="\b"===d?"\\b":"\f"===d?"\\f":"\n"===d?"\\n":"\r"===d?"\\r":"\t"===d?"\\t":d}return b},toSafeLike:function(a){return a.replace(/\[/g,"[[]").replace(/%/g,"[%]").replace(/_/g,"[_]")},cdata:function(a){return"<![CDATA["+a+"]]>"},camelCase:function(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})},paddingZero:function(a,b){return(Array(b).join("0")+a).slice(-b)},formatLocale:function(a){var b=locales[a.toLowerCase()];return b||"zh-cn"},getFriendlyName:function(a){return self.camelCase(("x_"+a).replace(/[\#\$\.\/\\\:\?\=]/g,"_").replace(/[-]+/g,"_"))},StringBuilder:StringBuilder_1.StringBuilder,Timer:Timer_1.Timer,timers:{},newTimer:function(a,b){return{name:"timer$"+Math.ceil(9e8*Math.random()+1e8),interval:1e3*a,callback:b,run:function(){this.callback(this)},start:function(){var a=self.timers[this.name]=this;this.timerId=setInterval(function(){self.timers[a.name].run()},this.interval)},stop:function(){clearInterval(this.timerId)}}},debug:{log:function(a){lang.isUndefined(console)||console.log(a)},warn:function(a){lang.isUndefined(console)||console.warn(a)},error:function(a){lang.isUndefined(console)||console.error(a)},assert:function(a){lang.isUndefined(console)||console.assert(a)},time:function(a){lang.isUndefined(console)||console.time(a)},timeEnd:function(a){lang.isUndefined(console)||console.timeEnd(a)},timestamp:function(){var a=new Date;return"{yyyy-MM-dd HH:mm:ss.fff}".replace(/yyyy/,a.getFullYear().toString()).replace(/MM/,a.getMonth()+1>9?(a.getMonth()+1).toString():"0"+(a.getMonth()+1)).replace(/dd|DD/,a.getDate()>9?a.getDate().toString():"0"+a.getDate()).replace(/hh|HH/,a.getHours()>9?a.getHours().toString():"0"+a.getHours()).replace(/mm/,a.getMinutes()>9?a.getMinutes().toString():"0"+a.getMinutes()).replace(/ss|SS/,a.getSeconds()>9?a.getSeconds().toString():"0"+a.getSeconds()).replace(/fff/g,a.getMilliseconds()>99?a.getMilliseconds().toString():a.getMilliseconds()>9?"0"+a.getMilliseconds():"00"+a.getMilliseconds())}}};module.exports=self}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./StringBuilder":3,"./Timer":4,"./lang":7}],7:[function(a,b,c){"use strict";for(var d={type:function(a){try{return void 0===a?"undefined":null===a?"null":/\[object ([A-Za-z]+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()}catch(a){if(a instanceof RangeError)return"...";throw a}},isArray:function(a){},isFunction:function(a){},isString:function(a){},isNumber:function(a){},isUndefined:function(a){},extend:function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=arguments[0]||{};if(arguments.length>1)for(var e=1,f=arguments.length;e<f;e++)for(var g in arguments[e])d[g]=arguments[e][g];return d},clone:function(a){return d.extend({},a)},EventTarget:function(){this.eventListeners={},this.addEventListener=function(a,b){return"string"==typeof a&&"function"==typeof b&&(void 0===this.eventListeners[a]?this.eventListeners[a]=[b]:this.eventListeners[a].push(b)),this},this.removeEventListener=function(a,b){var c=this.eventListeners[a];if(c instanceof Array)if("function"==typeof b){for(var d=0,e=c.length;d<e;d+=1)if(c[d]===b){c.splice(d,1);break}}else if(b instanceof Array)for(var f=0,g=b.length;f<g;f+=1)this.unbind(a,b[g]);else delete this.eventListeners[a];return this},this.fire=function(a){if(a&&this.eventListeners[a])for(var b={type:a,target:this},c=this._listener[a].length,d=0;d<c;d+=1)this.eventListeners[a][d].call(this,b);return this}}},e=["Array","Function","String","Number","Undefined"],f=0;f<e.length;f++)!function(a){d["is"+e[a]]=function(b){return d.type(b)===e[a].toLowerCase()}}(f);b.exports=d},{}],8:[function(a,b,c){"use strict";var d=a("../base/declare"),e=d({constructor:function(){this.innerArray=[]},clear:function(){this.innerArray=[]},exist:function(a){for(var b=0;b<this.innerArray.length;b++)if(this.innerArray[b].key===a)return!0;return!1},index:function(a){for(var b=0;b<this.innerArray.length;b++)if(this.innerArray[b].key===a)return b;return-1},add:function(a,b){if(1===arguments.length)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");this.innerArray.push({key:e[0],value:e[1]})}else{if(this.exist(a))throw"aleardy exist same key["+a+"]";this.innerArray.push({key:a,value:b})}},remove:function(a){var b=this.index(a);b>-1&&this.innerArray.splice(b,1)},get:function(a){for(var b=0;b<this.innerArray.length;b++)if(this.innerArray[b].key===a)return this.innerArray[b].value;return null},set:function(a,b){for(var c=0;c<this.innerArray.length;c++)this.innerArray[c].key===a&&(this.innerArray[c].value=b)},size:function(){return this.innerArray.length}});b.exports=e},{"../base/declare":5}],9:[function(a,b,c){"use strict";var d=a("../base/declare"),e=d({constructor:function(){this.innerArray=[]},push:function(a){this.innerArray.push(a)},pop:function(){if(0===this.innerArray.length)return null;for(var a=this.innerArray[0],b=0;b<this.innerArray.length-1;b++)this.innerArray[b]=this.innerArray[b+1];return this.innerArray.length=this.innerArray.length-1,a},peek:function(){return 0===this.innerArray.length?null:this.innerArray[0]},clear:function(){this.innerArray.length=0},size:function(){return this.innerArray.length},isEmpty:function(){return 0===this.innerArray.length}});b.exports=e},{"../base/declare":5}],10:[function(a,b,c){"use strict";var d={create:function(){return d.constructor()},constructor:function(){return{innerArray:[],push:function(a){this.innerArray[this.innerArray.length]=a},pop:function(){if(0===this.innerArray.length)return null;var a=this.innerArray[this.innerArray.length-1];return this.innerArray.length--,a},peek:function(){return 0===this.innerArray.length?null:this.innerArray[this.innerArray.length-1]},clear:function(){this.innerArray.length=0},size:function(){return this.innerArray.length},isEmpty:function(){return 0===this.innerArray.length}}}};b.exports=d},{}],11:[function(a,b,c){"use strict";var d={hex:function(a){if(/^(rgb|RGB)/.test(a)){for(var b=a.replace(/(?:\(|\)|rgb|RGB)/g,"").split(","),c="#",d=0;d<b.length;d++){var e=Number(b[d]).toString(16);"0"===e&&(e+=e),c+=e}return 7!==c.length&&(c=a),c}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(a))return a;var b=a.replace(/#/,"").split("");if(6===b.length)return a;if(3===b.length){for(var f="#",d=0;d<b.length;d+=1)f+=b[d]+b[d];return f}},rgb:function(a){var b=a.toLowerCase();if(b&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(b)){if(4===b.length){for(var c="#",d=1;d<4;d+=1)c+=b.slice(d,d+1).concat(b.slice(d,d+1));b=c}for(var e=[],d=1;d<7;d+=2)e.push(parseInt("0x"+b.slice(d,d+2)));return"rgb("+e.join(", ")+")"}return b}};b.exports=d},{}],12:[function(a,b,c){"use strict";var d=a("./base/lang"),e={query:function(a){var b="",c=a+"=";if(document.cookie.length>0){var d=document.cookie.indexOf(c);if(-1!=d){d+=c.length;var e=document.cookie.indexOf(";",d);-1==e&&(e=document.cookie.length),b=unescape(document.cookie.substring(d,e))}}return b},add:function(a,b,c){c=d.extend({path:"/"},c||{}),document.cookie=escape(a)+"="+escape(b)+(c.expire?"; expires="+c.expire.toUTCString():"")+"; path="+c.path+(c.domain?"; domain="+c.domain:"")},remove:function(a,b){b=d.extend({path:"/"},b||{}),this.query(a)&&(document.cookie=escape(a)+"=; path="+b.path+"; expires="+new Date(0).toUTCString()+(b.domain?"; domain="+b.domain:""))}};b.exports=e},{"./base/lang":7}],13:[function(a,b,c){"use strict";var d=a("./base"),e=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],f={now:function(){return f.create()},create:function(a){return f.newDateTime(a)},shortIntervals:{y:"year",q:"quarter",M:"month",w:"week",d:"day",h:"hour",m:"minute",s:"second",ms:"msecond"},formatInterval:function(a){return f.shortIntervals[a]||a},diff:function(a,b,c){var d=f.newDateTime(a),e=f.newDateTime(b);return d.diff(f.formatInterval(c),e)},add:function(a,b,c){return f.newDateTime(a).add(f.formatInterval(b),c)},format:function(a,b){return f.create(a).toString(b)},ago:function(a,b){b=d.extend({minute:"分钟前",hour:"小时前",day:"天前"},b);var c=f.create(a),e=f.create();return c.diff("m",e)<1?"1"+b.minute:c.diff("m",e)<60?c.diff("m",e)+b.minute:c.diff("h",e)<24?c.diff("h",e)+b.hour:c.diff("d",e)<4?c.diff("d",e)+b.day:c.toString("yyyy-MM-dd")},newDateTime:function(a){var b=new Date;if(!d.isUndefined(a))if("date"===d.type(a))b=a;else if(d.isNumber(a))b=new Date(a);else if(d.isArray(a)){for(var c=a,g=0;g<6;g++)c[g]=isNaN(c[g])?g<3?1:0:Number(c[g]);b=new Date(c[0],Number(c[1])-1,c[2],c[3],c[4],c[5])}else if(/\/Date\((-?\d+)\)\//.test(a))b=new Date(Math.floor(a.replace(/\/Date\((-?\d+)\)\//,"$1")));else if(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z/.test(a))b=new Date(a);else{for(var c=a.replace(/[-|:|\/| |年|月|日]/g,",").replace(/,,/g,",").split(","),g=0;g<6;g++)c[g]=isNaN(c[g])?g<3?1:0:Number(c[g]);b=new Date(c[0],Number(c[1])-1,c[2],c[3],c[4],c[5])}return{year:b.getFullYear(),month:b.getMonth(),day:b.getDate(),hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds(),msecond:b.getMilliseconds(),weekDay:b.getDay(),diff:function(a,b){var c=Number(this.toNativeDate()),d=Number(b.toNativeDate());switch(a=f.formatInterval(a)){case"year":return b.year-this.year;case"quarter":return Math.ceil((12*(b.year-this.year)+(b.month-this.month))/3);case"month":return 12*(b.year-this.year)+(b.month-this.month);case"week":return Math.floor((d-c)/6048e5);case"day":return Math.floor((d-c)/864e5);case"hour":return Math.floor((d-c)/36e5);case"minute":return Math.floor((d-c)/6e4);case"second":return Math.floor((d-c)/1e3);case"msecond":return Math.floor(d-c)}},add:function(a,b){var c=Number(this.toNativeDate()),d=0,e=[31,28,31,30,31,30,31,31,30,31,30,31];switch(a=f.formatInterval(a),b=Number(b),a){case"year":d=this.year%4!=0||this.year%100==0&&this.year%400!=0||1!=this.month||29!=this.day||(this.year+b)%4==0&&((this.year+b)%100!=0||(this.year+b)%400==0)?Number(new Date(this.year+b,this.month,this.day,this.hour,this.minute,this.second)):Number(new Date(this.year+b,this.month,28,this.hour,this.minute,this.second));break;case"quarter":d=this.year%4!=0||this.year%100==0&&this.year%400!=0||1!=this.month||29!=this.day||(this.year+Math.floor((this.month+3*b)/12))%4==0&&((this.year+Math.floor((this.month+3*b)/12))%100!=0||(this.year+Math.floor((this.month+3*b)/12))%400==0)?this.day==e[this.month]?Number(new Date(this.year,this.month+3*b,e[(this.month+3*b)%12],this.hour,this.minute,this.second)):Number(new Date(this.year,this.month+3*b,this.day,this.hour,this.minute,this.second)):Number(new Date(this.year,this.month+3*b,28,this.hour,this.minute,this.second));break;case"month":d=this.year%4!=0||this.year%100==0&&this.year%400!=0||1!=this.month||29!=this.day||(this.year+Math.floor((this.month+b)/12))%4==0&&((this.year+Math.floor((this.month+b)/12))%100!=0||(this.year+Math.floor((this.month+b)/12))%400==0)?this.day==e[this.month]?Number(new Date(this.year,this.month+b,e[(this.month+b)%12],this.hour,this.minute,this.second)):Number(new Date(this.year,this.month+b,this.day,this.hour,this.minute,this.second)):Number(new Date(this.year,this.month+b,28,this.hour,this.minute,this.second));break;case"week":d=c+6048e5*b;break;case"day":d=c+864e5*b;break;case"hour":d=c+36e5*b;break;case"minute":d=c+6e4*b;break;case"second":d=c+1e3*b;break;case"msecond":d=c+b}return f.create(new Date(d))},getDatePart:function(a){switch(a=f.formatInterval(a)){case"year":return this.year;case"quarter":return this.getQuarterOfYear();case"month":return this.month;case"day":return this.day;case"week":return e[this.weekDay];case"W":case"weekOfYear":return this.getWeekOfYear();case"hour":return this.hour;case"minute":return this.minute;case"second":return this.second;default:return"Unkown Interval"}},getMaxDayOfMonth:function(){var a=f.create(this.toString("yyyy-MM-01")),b=f.create(this.add("month",1).toString("yyyy-MM-01"));return a.diff("day",b)},getQuarterOfYear:function(){return Math.ceil(this.month/3)},getWeekOfYear:function(){var a=0,b=this.getDayOfYear();return f.create(this.toString("yyyy-01-01")).weekDay>0&&(b-=7-f.create(this.toString("yyyy-01-01")).weekDay),b>0&&(a=Math.ceil(b/7)),a},getDayOfYear:function(){var a=this.toNativeDate(),b=new Date(a.getFullYear(),0,1);return Math.ceil(Number(Number(a)-Number(b))/864e5)+1},isLeapYear:function(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)},toArray:function(){return[this.year,this.month,this.day,this.hour,this.minute,this.second,this.msecond]},toNativeDate:function(){return new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},toString:function(a){return void 0===a&&(a="yyyy-MM-dd HH:mm:ss"),a.replace(/yyyy|YYYY/g,this.year).replace(/yy|YY/g,d.paddingZero(this.year2%100,2)).replace(/Y/g,this.year).replace(/MM/g,d.paddingZero(this.month+1,2)).replace(/M/g,this.month+1).replace(/w|W/g,e[this.weekDay]).replace(/dd|DD/g,d.paddingZero(this.day,2)).replace(/d|D/g,this.day).replace(/hh|HH/g,d.paddingZero(this.hour,2)).replace(/h|H/g,this.hour).replace(/mm/g,d.paddingZero(this.minute,2)).replace(/m/g,this.minute).replace(/ss|SS/g,d.paddingZero(this.second,2)).replace(/s|S/g,this.second).replace(/fff/g,d.paddingZero(this.msecond,3))}}},timespan:function(a,b){return void 0===b&&(b="second"),"day"!=b&&"d"!=b||(a=24*a*60*60),"hour"!=b&&"h"!=b||(a=60*a*60),"minute"!=b&&"m"!=b||(a*=60),"second"!=b&&"s"!=b||(a*=1e3),{timespanValue:a,day:a/864e5,hour:a/36e5,minute:a/6e4,second:a/1e3,millisecond:a%1e3,toString:function(a){var b="";switch(a){case"MM天dd小时mm分钟ss秒fff毫秒":b=d.paddingZero(this.day,2)+"天"+d.paddingZero(this.hour,2)+"小时"+d.paddingZero(this.minute,2)+"分钟"+d.paddingZero(this.second,2)+"秒"+d.paddingZero(this.millisecond,3)+"毫秒";break;case"MM天dd小时mm分钟ss秒":default:b=d.paddingZero(this.day,2)+"天"+d.paddingZero(this.hour,2)+"小时"+d.paddingZero(this.minute,2)+"分钟"+d.paddingZero(this.second,2)+"秒"}return b}}}};b.exports=f},{"./base":2}],14:[function(a,b,c){"use strict";var d=a("./base"),e=a("./string"),f={html:{dict:{"&":"&#32;"," ":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;"},encode:function(a){return 0===a.length?"":(a=e.stringify(a),a.replace(/&(?![\w#]+;)|[<>"']/g,function(a){return f.html.dict[a]}))},decode:function(a){if(0===a.length)return"";a=e.stringify(a);var b="";return b=a.replace(/&amp;/g,"&"),b=b.replace(/&lt;/g,"<"),b=b.replace(/&gt;/g,">"),b=b.replace(/&nbsp;/g," "),b=b.replace(/&#39;/g,"'"),b=b.replace(/&quot;/g,'"')}},unicode:{encode:function(a,b){if(0===a.length)return"";b=b||"\\u",a=e.stringify(a);for(var c="",d=0;d<a.length;d++){var f="&#"===b?a.charCodeAt(d).toString(10):a.charCodeAt(d).toString(16);if(f.length<4)for(;f.length<4;)f="0".concat(f);c=c.concat(b+f),0==b.indexOf("&#")&&(c+=";")}return c.toLowerCase()},decode:function(a,b){if(0===a.length)return"";b=b||"\\u",a=e.stringify(a);var c="",f=a.match(/([\w]+)|(\\u([\w]{4}))/g);return null!=f&&d.each(f,function(a,d){0==d.indexOf(b)?c+=String.fromCharCode(parseInt(d.slice(2,6),16)):c+=d}),c}}};b.exports=f},{"./base":2,"./string":18}],15:[function(a,b,c){"use strict";var d={getEvent:function(a){return window.event?window.event:a},getTarget:function(a){return window.event?window.event.srcElement:a?a.target:null},getPosition:function(a){var b=document.documentElement,c=document.body||{scrollLeft:0,scrollTop:0};return{x:a.pageX||a.clientX+(b.scrollLeft||c.scrollLeft)-(b.clientLeft||0),y:a.pageY||a.clientY+(b.scrollTop||c.scrollTop)-(b.clientTop||0)}},preventDefault:function(a){a&&a.preventDefault?a.preventDefault():window.event.returnValue=!1},stopPropagation:function(a){return a&&a.stopPropagation?a.stopPropagation():window.event.cancelBubble=!0,!1},add:function(a,b,c,d){null!=a&&(a.addEventListener?a.addEventListener(b,c,d):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)},remove:function(a,b,c,d){null!=a&&(a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null)},fire:function(a,b){var c=a._listeners[b];if(c instanceof Array)for(var d=0,e=c.length;d<e;d++)"function"==typeof c[d]&&c[d]({type:b});return a}};b.exports=d},{}],16:[function(a,b,c){"use strict";for(var d=a("./base"),e=a("./event"),f={returnType:"json",xhrDataKey:"xhr-xml",getAccessToken:function(){},getClientId:function(){},getClientSignature:function(){},getTimestamp:function(){},getNonce:function(){},getWaitingWindow:function(a){a=d.extend({type:"default",text:i18n.net.waiting.commitTipText},a||{}),d.isUndefined(a.name)&&(a.name=d.getFriendlyName(location.pathname+"$"+a.type+"$waiting$window"));var b=a.name;return d.isUndefined(window[b])?"mini"==a.type?window[b]={name:b,options:a,container:null,message:null,create:function(a){null==document.getElementById(this.name+"-text")?$(document.body).append('<div id="'+this.name+'-container" class="x-ui-dialog-waiting-mini-window-container" ><div id="'+this.name+'-text" class="x-ui-dialog-waiting-mini-window-text" >'+a+"</div></div>"):d.query('[id="'+this.name+'-text"]').innerHTML=a,null===this.container&&(this.container=document.getElementById(this.name+"-container"))},show:function(){d.isUndefined(arguments[0])||(this.options.text=arguments[0]),this.create(this.options.text),d.css.style(this.container,{display:"",position:"fixed",left:"4px",bottom:"4px"})},hide:function(){null!=this.container&&d.css.style(this.container,{display:"none"})}}:"plus"==a.type?window[b]={name:b,options:a,container:null,create:function(a){this.options.text=a},show:function(){d.isUndefined(arguments[0])||(this.options.text=arguments[0]),this.create(this.options.text),this.container=plus.nativeUI.showWaiting(this.options.text)},hide:function(){null!=this.container&&this.container.close()}}:window[b]={name:b,options:a,maskWrapper:null,container:null,message:null,lock:0,maxOpacity:a.maxOpacity?a.maxOpacity:.4,maxDuration:a.maxDuration?a.maxDuration:.2,height:a.height?a.height:50,width:a.width?a.width:200,setPosition:function(){var a=d.page.getRange(),b=(a.width-this.width)/2,c=(a.height-this.height)/3;d.dom.fixed(this.container,b,c)},createMaskWrapper:function(){var a=document.getElementById(this.name+"-maskWrapper");null===a&&($(document.body).append('<div id="'+this.name+'-maskWrapper" style="display:none;" ></div>'),a=document.getElementById(this.name+"-maskWrapper")),a.className="x-ui-dialog-mask-wrapper",a.style.height=d.page.getRange().height+"px",a.style.width=d.page.getRange().width+"px","none"===a.style.display&&($("#"+this.name+"-maskWrapper").css({display:"",opacity:.1}),$("#"+this.name+"-maskWrapper").fadeTo(1e3*this.maxDuration,this.maxOpacity,function(){}))},create:function(a){null==document.getElementById(this.name+"-text")?($(document.body).append('<div id="'+this.name+'-container" class="x-ui-dialog-waiting-window-container" ><div id="'+this.name+'-text" class="x-ui-dialog-waiting-window-text" >'+a+"</div></div>"),this.createMaskWrapper()):document.getElementById(this.name+"-text").innerHTML=a,null===this.container&&(this.container=document.getElementById(this.name+"-container"),this.maskWrapper=document.getElementById(this.name+"-maskWrapper"))},show:function(a){this.lock++;var b=this;if(b.lock>0){null===b.maskWrapper&&(b.maskWrapper=d.ui.mask.newMaskWrapper(b.name+"-maskWrapper")),void 0!==a&&(b.options.text=a),b.create(b.options.text);var c=d.page.getRange(),e=(c.width-b.width)/2;d.dom.fixed(b.container,e,120),b.container.style.display="",b.maskWrapper.style.display=""}},hide:function(){if(0===--this.lock&&(null!=this.container&&(this.container.style.display="none"),null!=this.maskWrapper&&"none"!==d.dom("#"+this.name+"-maskWrapper").css("display"))){var a=this;d.dom("#"+a.name+"-maskWrapper").css({display:"none"})}}}:window[b].options=a,window[b]},catchException:function(a,b){try{var c=d.toJSON(a);d.isUndefined(c)||d.isUndefined(c.success)||0!=c.success||("console"==b?d.debug.error(c.msg):d.msg(c.msg))}catch(a){d.debug.error(a)}}},g=["access-token","client-id","client-signature","timestamp","nonce"],h=0;h<g.length;h++){var i=g[h],j=d.camelCase(i);j=j[0].toUpperCase()+j.substr(1),f["get"+j]=function(){return localStorage["session-"+i]||(null==d.query("session-"+i)?null:d.query("session-"+i).value)||""}}var k={getWaitingWindow:function(a){return f.getWaitingWindow(a)},xhr:function(){var a,b,c;2==arguments.length&&"object"===d.type(arguments[1])?(a=arguments[0],c=arguments[1],b=""):2==arguments.length&&"string"===d.type(arguments[1])?(a=arguments[0],c={},b=arguments[1]):3==arguments.length&&"string"===d.type(arguments[1])&&d.isFunction(arguments[2])?(a=arguments[0],c={callback:arguments[2]},b=arguments[1]):(a=arguments[0],b=arguments[1],c=arguments[2]),c=d.extend({},f,c);var e=d.isFunction(c.getWaitingWindow)&&!d.isUndefined(c.waitingMessage)&&""!==c.waitingMessage;e&&c.getWaitingWindow({text:c.waitingMessage,type:d.isUndefined(c.waitingType,"default")}).show();var g=c.type||"POST",h=c.contentType||"text/html",i=c.async||!0,j=d.extend({},c.data||{});if("object"===d.type(b))j=d.extend(j,b);else{var l=d.toXML(b,1);if(""!=b&&l)j[c.xhrDataKey]=b;else if(!l&&b.indexOf("=")>0){var m=b.split("&");d.each(m,function(a,b){var c=b.split("=");2==c.length&&(j[c[0]]=decodeURIComponent(c[1]))})}}d.isFunction(c.getAccessToken)&&""!=c.getAccessToken()?j.accessToken=c.getAccessToken():d.isFunction(c.getClientId)&&""!=c.getClientId()&&(j.clientId=c.getClientId(),d.isFunction(c.getClientId)&&""!=c.getClientSignature()&&(j.clientSignature=c.getClientSignature(),j.timestamp=c.getTimestamp(),j.nonce=c.getNonce())),k.ajax({type:g,url:a,contentType:h,data:j,async:i,success:function(a){if(e&&c.getWaitingWindow({type:d.isUndefined(c.waitingType,"default")}).hide(),"json"==c.returnType){c.catchException(a,c.outputException);var b=d.toJSON(a);if(d.isUndefined(b)||d.isUndefined(b.message))d.call(c.callback,d.toJSON(a));else{var f=b.message;switch(Number(f.returnCode)){case-1:d.msg(f.value);break;case 0:c.popCorrectValue&&d.msg(f.value),d.call(c.callback,d.toJSON(a));break;default:c.popIncorrectValue&&d.msg(f.value),d.call(c.callback,d.toJSON(a))}}}else d.call(c.callback,a)},error:function(a,b,e){d.debug.log(a.responseText),d.isFunction(c.error)?c.error(a,b,e):401==a.status?d.msg(i18n.net.errors[401]):404==a.status?d.msg(i18n.net.errors[404]):500==a.status?d.msg(i18n.net.errors[500]):0!=a.status&&d.debug.error(i18n.net.errors.unkown.format(a.status+(""!=a.statusText?" "+a.statusText:"")))}})},requireLoaded:{},require:function(a){if(a=d.extend({fileType:"script",id:"",path:"",type:"GET",async:!0},a||{}),""!=a.id&&k.requireLoaded[a.id])return d.debug.log(d.string.format('require file {"id":"{0}", path:"{1}"} exist. [ajax]',a.id,a.path)),d.call(a.callback),!0;d.debug.log(d.string.format('require file {"id":"{0}", path:"{1}"} loading. [ajax]',a.id,a.path)),k.ajax({type:a.type,url:a.path,async:a.async,success:function(b){d.debug.log(d.string.format('require file {"id":"{0}", path:"{1}"} finished. [ajax]',a.id,a.path));var c,e=document.getElementsByTagName("HEAD").item(0);"template"==a.fileType?(c=document.createElement("script"),c.type="text/template",c.src=a.path):"css"==a.fileType?(c=document.createElement("style"),c.type="text/css",c.href=a.path):(c=document.createElement("script"),c.language="javascript",c.type="text/javascript",c.src=a.path);try{c.appendChild(document.createTextNode(b))}catch(a){c.text=b}""!=a.id&&(c.id=a.id,k.requireLoaded[a.id]=!0),e.appendChild(c),d.call(a.callback)}})},ajax:function(a){k.newHttpRequest(a).send()},newHttpRequest:function(a){var b={xhr:null,data:null,timeout:90,done:!1,send:function(){if(null==this.xhr&&(this.xhr=k.newXmlHttpRequest(),!this.xhr))return d.debug.error("create xhr failed"),!1;this.xhr.open(this.type,this.url,this.async);var a=this;e.add(this.xhr,"readystatechange",function(){var b=a.xhr;4!=b.readyState||a.done||(0==b.status||b.status>=200&&b.status<300||304==b.status?d.call(a.success,b.responseText):d.call(a.error,b,b.status),b=null)}),setTimeout(function(){a.done=!0},1e3*a.timeout),"POST"==this.type?(this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.xhr.send(d.serialize(this.data))):this.xhr.send(null)},create:function(a){a=d.extend({type:"GET",url:"",data:{},async:!0,timeout:90},a||{}),this.type=a.type.toUpperCase(),this.url=a.url,this.data=a.data,this.async=a.async,this.timeout=a.timeout,this.success=a.success,this.error=a.error}};return b.create(a),b},newXmlHttpRequest:function(){var a=null,b=d.global();if(b.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){a=new ActiveXObject("Microsoft.XMLHTTP")}else b.XMLHttpRequest&&(a=new XMLHttpRequest);return a},request:{find:function(a){for(var b="",c=location.search.substr(1).split("&"),d=0;d<c.length;d++)if(0===c[d].indexOf(a)){b=decodeURIComponent(c[d].replace(a+"=",""));break}return b},findAll:function(){var a="",b=location.search.substr(1).split("&");if(b.length=0)return{};var c;a="{";for(var e=0;e<b.length;e++)c=b[e].split("="),a+='"'+c[0]+'":"'+decodeURIComponent(c[1])+'"',
e<b.length-1&&(a+=",");return a+="}",d.evalJSON(a)},getRawUrl:function(){return location.href.replace(location.origin,"")},hash:function(a){return location.hash==="#"+a}}};b.exports=k},{"./base":2,"./event":15}],17:[function(a,b,c){"use strict";var d=a("./base"),e=a("./string"),f={rules:{trim:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,date:/((^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(10|12|0?[13578])([-\/\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(11|0?[469])([-\/\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(0?2)([-\/\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([3579][26]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][13579][26])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][13579][26])([-\/\._])(0?2)([-\/\._])(29)$))/g,url:"^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$",telephone:/(^\d+$)|((^\d+)([\d|\-]+)((\d+)$))|((^\+)([\d|\-]+)((\d+)$))/g,"non-telephone":/[^\d\-\+]/g,email:/^\w+((-\w+)|(\_\w+)|(\'\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/g,qq:/^\w+((-\w+)|(\_\w+)|(\'\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/g,number:/(^-?\d+$)|(^-?\d+[\.?]\d+$)/g,"non-number":/[^\d\.\-]/g,integer:/^-?\d+$/g,"positive-integer":/^\d+$/g,"non-integer":/[^\d\-]/g,safeText:/A-Za-z0-9_\-/g,"non-safeText":/[^A-Za-z0-9_\-]/g,fileExt:"jpg,gif,jpeg,png,bmp,psd,sit,tif,tiff,eps,png,ai,qxd,pdf,cdr,zip,rar","en-us":{zipcode:/^\d{5}-\d{4}$|^\d{5}$/g},"zh-cn":{identityCard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}[X|x]$)/g,zipcode:/^\d{6}$/g}},match:function(a){var b=String(a.text),c=a.ignoreCase,d=a.regexpName,e=void 0===a.regexp?void 0:new RegExp(a.regexp);return 1===c&&(b=b.toLowerCase()),void 0===e&&void 0!==d&&(e=f.rules[d]),b.match(e)},exists:function(a){var b=String(a.text),c=a.ignoreCase,d=a.regexpName,e=void 0===a.regexp?void 0:new RegExp(a.regexp);return c&&(b=b.toLowerCase()),void 0===e&&void 0!==d&&(e=f.rules[d]),null!==b.match(e)},isFileExt:function(a,b){var c=!1,d=a.substr(a.lastIndexOf("."),a.length-a.lastIndexOf(".")),e=b||f.rules.fileExt;if(d=d.replace(".",""),-1!=e.indexOf(",")){for(var g=e.split(","),h=0;h<g.length;h++)if(d.toLowerCase()==g[h]){c=!0;break}}else d.toLowerCase()==e&&(c=!0);return c},isUrl:function(a){return a.toLowerCase().exists(f.rules.url)},isEmail:function(a){return a.toLowerCase().exists(f.rules.email)},isZipcode:function(a,b){return b=d.formatLocale(b),a.exists(f.rules[b].zipcode)},isSafeText:function(a){return a.exists(f.rules.safeText)},formatTelephone:function(a){return a.replace(f.rules["non-telephone"],"")},formatInteger:function(a,b){return a=String(a).replace(f.rules["non-integer"],""),""===e.trim(a)&&(a="0"),b&&(a=String(parseInt(a,10))),a},formatNumber:function(a,b){return void 0===b&&(b=!0),a=String(a).replace(f.rules["non-number"],""),a=""===a.trim()?"0":a,b&&(a=String(parseFloat(a))),a},formatNumberRound2:function(a,b){void 0===b&&(b=!0);var c=""+Math.round(100*Number(f.formatNumber(a)))/100,d=c.indexOf(".");if(d<0)return c+".00";var c=c.substring(0,d+1)+c.substring(d+1,d+3);return d+2==c.length&&(c+="0"),b&&(a=parseFloat(c)),a},formatNumberRound:function(a,b,c){void 0===b&&(b=2),void 0===c&&(c=!0);for(var d=10,e=0;e<b;)d*=10,e++;var g=""+Math.round(Number(f.formatNumber(a))*d)/d,h=g.indexOf(".");if(h<0)return g+".00";for(var g=g.substring(0,h+1)+g.substring(h+1,h+b+1);h+b>g.length;)g+="0";return c&&(g=parseFloat(g).toString()),g},formatSafeText:function(a){return a.replace(f.rules["non-safeText"],"")}};b.exports=f},{"./base":2,"./string":18}],18:[function(a,b,c){"use strict";var d=a("./base"),e={stringify:function(a){var b="",c=d.type(a);return"string"!==c?"number"===c||"boolean"===c||"date"===c?b=a+"":"array"===c?(b="[",d.each(a,function(c,d){b+=e.stringify(a)+","}),b=e.rtrim(b,","),b+="]"):b="function"===c?e.stringify(a.call(a)):"":b=a,b},trim:function(a,b){return void 0===b&&(b=void 0),d.isUndefined(b)?a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e.rtrim(e.ltrim(a,b),b)},ltrim:function(a,b){return void 0===b&&(b=void 0),d.isUndefined(b)?a.replace(/(^[\s\uFEFF\xA0]+)/g,""):a.replace(RegExp("(^"+b.replace(/\\/g,"\\\\")+")","gi"),"")},rtrim:function(a,b){return void 0===b&&(b=void 0),d.isUndefined(b)?a.replace(/([\s\uFEFF\xA0]+$)/g,""):a.replace(RegExp("("+b.replace(/\\/g,"\\\\")+"$)","gi"),"")},format:function(a){if(0==arguments.length)return null;for(var a=arguments[0],b=1;b<arguments.length;b++){var c=new RegExp("\\{"+(b-1)+"\\}","gm");a=a.replace(c,arguments[b])}return a},ellipsis:function(a,b,c){return void 0===c&&(c=!0),0===a.length?a:a.length>b?a.substr(0,b)+(c?"...":""):a}};b.exports=e},{"./base":2}]},{},[1])(1)});